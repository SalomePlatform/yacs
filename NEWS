

YACS GUI : list of missing functionalities and bugs
====================================================================================================

One list is initiated by EDF (problems detected by EDF), Another list can be completed by OCC 
(problems detected by OCC). The separaration will allow an easier CVS merge.
Each list contains numeroted items, with a description, comments from both parts,
a priority and a status.
The present file must be committed in CVS as often as required, in developments branchs.



Problems detected by EDF
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

----------------------------------------------------------------------------------------------------
Num ----: 1
priority: 0
status--: DONE
description: On the launcf of YACSGui, without any schema open, if we create a new schema, unless we 
double click on schema1 in object browser, we can add nothing because no schema is selected. It is 
not obvious and very frustrating. The must always be a schema selected.
comments: OCC: DONE. This functionality will be available from CVS today evening.
----------------------------------------------------------------------------------------------------
Num-----: 2
priority: 0
status--: NOK
description: It is possible to create builtin nodes and blocs at the root level on the schema but not
inside a block or other composed node.
popup must be available on the composed node representation in the tree.
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 3 
priority: 0
status--: NOK
description: add node from catalog is missing (from session and from existing schema file).
Must be implemented, it is the only way to add SALOME service nodes from SALOME components.
comments: OCC: This remarks concerns to both points 3 and 4. -a- As we
understand correctly, the only one possibility for nodes creation
should be available within YACS module. -b- It is a creation from two
types of catalog. -c- The type of catalog should be specified during
SALOME service node creation process in the additional dialog box. -d- It
is not possible to create an empty SALOME service node. -e- And it is not
possible to create a SALOME service node from component popup menu in
the tree view taking into account the selected component as a
component from which a service node will be created. Is the described
behaviour correct?
EDF: working examples for node clone from catalog are in guidemo.
(see editTree::ComposedNodeContextMenu in src/hmi/editTree.cxx)
-a- prefered mode of creation = pick a node from a catalog (see -e-)
-b,c,d- yes
-e- I am not sure to understand: select a service from a componentinstance already in tree ?
There could be here a shortcut but it is not a priority.
OCC: The creation of SALOME service nodes from session catalog is done.
----------------------------------------------------------------------------------------------------
Num-----: 4 
priority: 0
status--: NOK
description: in create node menu, salome service is useless (we cannot edit ports). Salome service 
come by clone from a catalog.
comments:
EDF: see 3
----------------------------------------------------------------------------------------------------
Num-----: 5 
priority: 0
status--: DONE
description: in create node menu, CPPNode create sigsegv
comments: OCC: This bug is not reproduced on OCC local version in
debug mode. It is needed to check it on BR_OCC branch today evening after our
integration.
EDF: OK
----------------------------------------------------------------------------------------------------
Num-----: 6 
priority: 0
status--: NOK
description: Bug on bloc creation (not systematic)
>> YACSGui_Graph::update
Graph:  ADD node
== aTypeName = N4YACS6ENGINE4BlocE
th. 3050337968 - Trace /home/prascle/SALOME2/YACS/BR_OCC/YACS_SRC/src/gui/YACSGui_Graph.cxx [309] : YACSGui_Graph::update Bloc0
YACSPrs_ElementaryNode::YACSPrs_ElementaryNode : Bloc0
YACSPrs_BlocNode::YACSPrs_BlocNode
terminate called after throwing an instance of 'St9bad_alloc'
  what():  St9bad_alloc

comments: OCC: Could you, please, provide a schema sample, on which
this bug is reproduced?
EDF:
I generally load samples/bloc1.xml, and sometimes YACS enters in an infinite loop and consume the memory (swap).
I can't be more precise on the conditions of occurence.
OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 7
priority: 0
status--: NOK
description: when creating schema from scratch, we do not have panel for node properties unless
we load another existing schema, then come back to the first schema.
comments: OCC: DONE. This functionality will be available from CVS today evening.
----------------------------------------------------------------------------------------------------
Num-----: 8 
priority: 0
status--: NOK
description: in python node properties, the port creation works, but the other buttons (arrows...)
have a confusing behaviour, and lead sometimes to sigsegv.

comments: OCC: DONE. Debugged.
----------------------------------------------------------------------------------------------------
Num-----: 9
priority: 0
status--: NOK
description: in python node properties, changing the name leads to abort
/home/prascle/SALOME2/YACS/BR_OCC/YACS_SRC/src/hmi/guiObservers.cxx [1038] : SubjectElementaryNode::addInputPort( 0x8552168, int, sds )
terminate called after throwing an instance of 'YACS::Exception'
  what():  node PyFunctiona is not a child of node bloc1.xml
 
comments: OCC: Could you, please, provide a test scenario to reproduce
this bug?
EDF:
launch YACSGui
create new schema schema1
add an inline script node
load samples/bloc1.xml
return to schema schema1
in Node properties, create an inputport p and an outputport q (dataflow, double),
change PyScript0 in PyScripta and apply:
OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 10 
priority: 0
status--: NOK
description: Node placement looks OK when there are no blocs, but there are problems of placement of
nodes inside the bloc (nodes are outside). When there are two levels of blocks (see bloc1.xml),
same problem, and the bloc in the inner level is not movable. When we move the outer bloc
to englobe the inner bloc, the canvas flickers. The rezize of the bloc have a very strange behaviour.
comments:  OCC: Could you, please, provide a schema sample, on which
this bug is reproduced?
EDF: samples/bloc1.xml
----------------------------------------------------------------------------------------------------
Num-----: 11 
priority: 0
status--: NOK
description: after loading bschema.xml, ports are not visibles in the node properties panel
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 12 
priority: 0
status--: NOK
description: in edition, Selection is not possible from canvas (highlight in tree, open properties...)
and selection in tree has no action on canvas.
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 13
priority: 0
status--: NOK
description: When the bloc properties is open, there is a button to add nodes, that does not work.
(remove seems possible)
comments: OCC: Could you, please, provide a test scenario to reproduce
this bug?
EDF:
launch YACSGui
create new schema schema1
add a block
load samples/bloc1.xml (to activate node properties)
return to schema schema1
in bloc properties, Direct Children + (for add node)
a line number 1 appears in Direct Children with an empty node name
I don't know what to do after...
IMPORTANT NOTE: prefered way is to have a popup menu (add nodes) at bloc item in tree view (see 2).
Either the '+' button activate the same menu, or it must be grayed or removed.
OCC: DONE (see2)
----------------------------------------------------------------------------------------------------
Num-----: 14
priority: 0
status--: NOK
description: In general, there are too much buttons or menus that have no action, or very unclear.
these buttons must be either removed, or grayed if they corresponds to something in development.
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 15 
priority: 0
status--: NOK
description: No tree view nor canvas for salome SUPERV files 
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----: 1001 
priority: 1
status--: NOK
description: only container "FactoryServerPy" works on OCN tests, instead of a C++ container. C++
container works at EDF: There is a problem with the OCN distribution that may compromise SALOME
Application deployement.
comments: OCC: Could you, please, specify the launch options for YACSContainer?
EDF: Head of BR_DEV or BR_PR works with YACSContainer at EDF (with SALOME V4.1.0rc1 ou rc2) :
try, and please provide detailed diagnostic if it does not work on your configuration.
----------------------------------------------------------------------------------------------------
Num-----: 1002 
priority: 1
status--: NOK
description: in create node menu, node node service is confusing. It is better to create a 
service node, then to associate it with another node with which the coponent instance is shared.
comments: OCC: DONE. There are two ways now to set component to the
SALOME service node: with help of selection control from Input Panel
for the SALOME service node the user can set the component to the
selected service node 1) by selection a SALOME component in the
edition tree view, 2) by selection an another SALOME service node in
the edition tree view.
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 2
status--: NOK
description: strange behaviour to check
access to SALOME_ResourcesManager while browsing salome services in edition (calcium4)
access to Subject::detach when clicking in canvas : edition widget destroyed then recreated ?
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----: 2001
priority: 2
status--: NOK
description: control gates on tree are useless, we can use directly the node itself.
(the idea is to have a lighter tree)
comments: DONE
----------------------------------------------------------------------------------------------------
Num-----: 2002 
priority: 2
status--: NOK
description: Link redrawing is globally OK, but sometimes the links are not visible because very 
near the blocs borders.
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------


Problems detected by OCC
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

----------------------------------------------------------------------------------------------------
Num-----: 1 
priority: 0
status--: OK
description:
 --	   Import test_schema.xml
 --	   Select "psnode14" => press "Apply" in opened dialog box
Result: Crash of application
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 2
priority: 0
status--: OK
description:
 --	   Import test_schema.xml
 --	   Select "psnode34" => press "Apply" in opened dialog box
Result: Fatal error (reference to object)
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 3 
priority: 0
status--: OK
description:
 --	   Import test_schema.xml
 --	   Select "psnode33" => assign "Input Ports/p1../Value"=10, "Input Ports/obj../Value"=20
 --	   Press "Apply" in opened dialog box
Result: Fatal error
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 4 
priority: 0
status--: OK
description: Tree View isn't updated after changing of name of SALOME
component and old name of it is shown inspite of new name is stored in corresponding dialog box
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 5 
priority: 0
status--: OK
description: 
 --	   Import test_schema.xml
 --	   Select "bb1" => modify its parameters as:   Case id       Node  name 
			                                  5          psnode33
                                                       default           n2
                                                          7          psnode32
 --        Press Apply button (warning message about deletion of "n2" is shown)
 --        Press Yess button 
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 6
priority: 0
status--: OK
description:
 --	   Import test_schema.xml
 --	   Select block node "bbb" => modify its parameters as: 
	     Delete "node4" from first line
	     Create new line by "+" pressing
	     Add "nnode0"
 --	   Press Apply button 
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 7 
priority: 0
status--: OK
description:
 --	   Import test_schema_last.xml
 --	   Select node "node1" => modify its parameters as: 
	     Change name
	     Assign new valyes to X and Y
 --	   Press Apply button 
 --	   Select in 2D Viewer block node"Sb1", for which previous node belongs
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 8
priority: 0
status--: OK
description:
 --	   Import schema bloc1.xml
 --        Select b1 node
 --        Add empty "Direct Children" row and press Apply button
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 9
priority: 0
status--: OK
description:
 --	   Import schema bloc1.xml
 --	   Select node1
 --	   Add row for "Input Ports"
 --	   Select the row
 --	   Click "->"
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 10
priority: 0
status--: OK
description:
 --	   Import schema bloc1.xml
 --	   Select link inside node "b1" - popup - Add Point 
 --	   If there is no fatal error SIGSEGV after this step - try next: popup - Delete Point
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 11 
priority: 0
status--: OK
description:
 --	   Launch application
 --	   File - New
 --	   Activate YACS
 --	   Import schema => the "Import Schema" dialog is opened
Result: confusing "data" in "File name" and "Quick path" fields
comments: OCC: DONE. Fixed in YACS module by calling SUIT_FileDlg::getFileName(...) method with
correct arguments and setting the DATA_DIR environment variable to the directory
with schema samples.
----------------------------------------------------------------------------------------------------
Num-----: 12
priority: 0
status--: NOK
description:
 --	   Import schema double1.xml
 --	   Fit all
Result: three red broken links in the viewer
comments:
----------------------------------------------------------------------------------------------------
Num-----: 13 
priority: 0
status--: OK, but
description:
 --	   Import schema bloc1.xml
 --	   Fit all
 --	   Select node "b1"
 --	   Click "Apply" in the appeared "Input Panel"
BUG: node "b2" jumps on "node1" inside the "b1"
comments: OCC: DONE, but it is needed to avoid canvas flickers
----------------------------------------------------------------------------------------------------
Num-----: 14 
priority: 0
status--: OK
description:
 --	   Import forloop1.xml (any other graph)
 --	   Delete loop node (any other node)
 --	   Close 2D viewer
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 15
priority: 0
status--: OK
description:
 --	   Import bloc1.xml
 --	   Select node1
 --	   Rename node1 as node3
 --	   Select b1 block node
 --	   Add a new line for a new children with help of + button
 --	   Select node3 as a new child node
 --	   Press Apply button
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 16 
priority: 0
status--: OK
description:  Show log messages (error messages during schema import) in the Message Log
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 17
priority: 0
status--: OK
description:
 --	   Import test_schema.xml
 --	   Select bbb.b1 foreach loop node
 --	   Delete this node
Result: SIGSEGV
comments: OCC: DONE
----------------------------------------------------------------------------------------------------
Num-----: 18
priority: 0
status--: NOK
description: Not systematic: change (activate) 2D view with help of tabs.
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
Num-----:  
priority: 0
status--: NOK
description: 
comments:
----------------------------------------------------------------------------------------------------
